{"version":3,"sources":["webpack:///static/js/app.11d0bac733fdd7be7416.js","webpack:///./dist/vue-lazy-component.js","webpack:///./demo/router/index.js","webpack:///./demo/App.vue?b337","webpack:///./demo/main.js","webpack:///App.vue","webpack:///./demo/App.vue?2eea","webpack:///./demo/assets/img/spr-d3.png"],"names":["webpackJsonp","module","exports","__webpack_require__","root","factory","this","modules","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Component","options","__file","esModule","keys","some","key","substr","console","error","functional","default","props","timeout","type","Number","tagName","String","viewport","window","HTMLElement","threshold","direction","maxWaitingTime","data","isInit","timer","io","loading","created","_this","setTimeout","init","mounted","rootMargin","IntersectionObserver","intersectionHandler","MIN_VALUE","observe","$el","e","beforeDestroy","unobserve","methods","entries","isIntersecting","intersectionRatio","_this2","$emit","requestAnimationFrame","callback","_this3","VueLazyComponent","vueLazyComponent","install","Vue","component","use","rawScriptExports","compiledTemplate","injectStyles","scopeId","moduleIdentifier","scriptExports","render","staticRenderFns","_scopeId","hook","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","existing","beforeCreate","h","concat","_vm","_h","$createElement","_c","_self","staticStyle","attrs","on","el","_t","$slots","_withStripped","_interopRequireDefault","obj","_vue2","_vue","_vueRouter2","_vueRouter","Router","router","routes","path","alias","resolve","require","injectStyle","_App2","_App","_router2","_router","config","productionTip","template","components","App","staticClass","_m","_v"],"mappings":"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","file":"static/js/app.11d0bac733fdd7be7416.js","sourcesContent":["webpackJsonp([6],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueLazyComponent\"] = factory();\n\telse\n\t\troot[\"VueLazyComponent\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar disposed = false\nvar Component = __webpack_require__(3)(\n  /* script */\n  __webpack_require__(1),\n  /* template */\n  __webpack_require__(4),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"F:\\\\work\\\\project\\\\vue-lazy-component-master\\\\src\\\\VueLazyComponent.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] VueLazyComponent.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-638a2947\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-638a2947\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n  name: 'VueLazyComponent',\n\n  props: {\n    timeout: {\n      type: Number\n    },\n    tagName: {\n      type: String,\n      default: 'div'\n    },\n    viewport: {\n      type: typeof window !== 'undefined' ? window.HTMLElement : Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    threshold: {\n      type: String,\n      default: '0px'\n    },\n    direction: {\n      type: String,\n      default: 'vertical'\n    },\n    maxWaitingTime: {\n      type: Number,\n      default: 50\n    }\n  },\n\n  data: function data() {\n    return {\n      isInit: false,\n      timer: null,\n      io: null,\n      loading: false\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    // 如果指定timeout则无论可见与否都是在timeout之后初始化\n    if (this.timeout) {\n      this.timer = setTimeout(function () {\n        _this.init();\n      }, this.timeout);\n    }\n  },\n  mounted: function mounted() {\n    if (!this.timeout) {\n      // 根据滚动方向来构造视口外边距，用于提前加载\n      var rootMargin = void 0;\n      switch (this.direction) {\n        case 'vertical':\n          rootMargin = this.threshold + ' 0px';\n          break;\n        case 'horizontal':\n          rootMargin = '0px ' + this.threshold;\n          break;\n      }\n\n      try {\n        // 观察视口与组件容器的交叉情况\n        this.io = new window.IntersectionObserver(this.intersectionHandler, {\n          rootMargin: rootMargin,\n          root: this.viewport,\n          threshold: [0, Number.MIN_VALUE, 0.01]\n        });\n        this.io.observe(this.$el);\n      } catch (e) {\n        this.init();\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // 在组件销毁前取消观察\n    if (this.io) {\n      this.io.unobserve(this.$el);\n    }\n  },\n\n\n  methods: {\n    // 交叉情况变化处理函数\n    intersectionHandler: function intersectionHandler(entries) {\n      if (\n      // 正在交叉\n      entries[0].isIntersecting ||\n      // 交叉率大于0\n      entries[0].intersectionRatio) {\n        this.init();\n        this.io.unobserve(this.$el);\n      }\n    },\n\n\n    // 处理组件和骨架组件的切换\n    init: function init() {\n      var _this2 = this;\n\n      // 此时说明骨架组件即将被切换\n      this.$emit('beforeInit');\n      this.$emit('before-init');\n\n      // 此时可以准备加载懒加载组件的资源\n      this.loading = true;\n\n      // 由于函数会在主线程中执行，加载懒加载组件非常耗时，容易卡顿\n      // 所以在requestAnimationFrame回调中延后执行\n      this.requestAnimationFrame(function () {\n        _this2.isInit = true;\n        _this2.$emit('init');\n      });\n    },\n    requestAnimationFrame: function requestAnimationFrame(callback) {\n      var _this3 = this;\n\n      // 防止等待太久没有执行回调\n      // 设置最大等待时间\n      setTimeout(function () {\n        if (_this3.isInit) return;\n        callback();\n      }, this.maxWaitingTime);\n\n      // 兼容不支持requestAnimationFrame 的浏览器\n      return (window.requestAnimationFrame || function (callback) {\n        return setTimeout(callback, 1000 / 60);\n      })(callback);\n    }\n  }\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n  * vue-lazy-component\n  * (c) 2017 赵兵\n  * @license MIT\n  */\nvar VueLazyComponent = __webpack_require__(0);\nvar vueLazyComponent = {};\n\n/**\n * Plugin API\n */\nvueLazyComponent.install = function (Vue, options) {\n  Vue.component(VueLazyComponent.name, VueLazyComponent);\n};\n\nvueLazyComponent.component = VueLazyComponent;\n\n/**\n * Auto install\n */\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(vueLazyComponent);\n}\n\nmodule.exports = vueLazyComponent;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n/* globals __VUE_SSR_CONTEXT__ */\n\n// this module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition-group', {\n    staticStyle: {\n      \"position\": \"relative\"\n    },\n    attrs: {\n      \"tag\": _vm.tagName,\n      \"name\": \"lazy-component\"\n    },\n    on: {\n      \"before-enter\": function (el) { return _vm.$emit('before-enter', el); },\n      \"before-leave\": function (el) { return _vm.$emit('before-leave', el); },\n      \"after-enter\": function (el) { return _vm.$emit('after-enter', el); },\n      \"after-leave\": function (el) { return _vm.$emit('after-leave', el); }\n    }\n  }, [(_vm.isInit) ? _c('div', {\n    key: \"component\"\n  }, [_vm._t(\"default\", null, {\n    \"loading\": _vm.loading\n  })], 2) : (_vm.$slots.skeleton) ? _c('div', {\n    key: \"skeleton\"\n  }, [_vm._t(\"skeleton\")], 2) : _c('div', {\n    key: \"loading\"\n  })])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-loader/node_modules/vue-hot-reload-api\").rerender(\"data-v-638a2947\", module.exports)\n  }\n}\n\n/***/ })\n/******/ ]);\n});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vue = __webpack_require__(0);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _vueRouter = __webpack_require__(19);\n\nvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_vue2.default.use(_vueRouter2.default);\n\nvar router = new _vueRouter2.default({\n  routes: [{\n    path: '/large-page',\n    name: 'LargePage',\n    alias: '/',\n    component: function component(resolve) {\n      return __webpack_require__.e/* require */(2).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(25)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/large-page-chunks',\n    name: 'LargePageChunks',\n    component: function component(resolve) {\n      return __webpack_require__.e/* require */(5).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(26)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/large-page-not-lazy',\n    name: 'LargePageNotLazy',\n    component: function component(resolve) {\n      return __webpack_require__.e/* require */(3).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(27)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/timeout',\n    name: 'Timeout',\n    component: function component(resolve) {\n      return __webpack_require__.e/* require */(1).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(29)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/custom-transition',\n    name: 'CustomTransition',\n    component: function component(resolve) {\n      return __webpack_require__.e/* require */(0).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(24)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/specific-viewport',\n    name: 'SpecificViewport',\n    component: function component(resolve) {\n      return __webpack_require__.e/* require */(4).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(28)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }]\n});\n\nexports.default = router;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(14)\n}\nvar Component = __webpack_require__(5)(\n  /* script */\n  __webpack_require__(11),\n  /* template */\n  __webpack_require__(18),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 5 */,\n/* 6 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _vue = __webpack_require__(0);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _App = __webpack_require__(4);\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _router = __webpack_require__(3);\n\nvar _router2 = _interopRequireDefault(_router);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar vueLazyComponent =  false ? require('../src/vue-lazy-component.js') : __webpack_require__(2); // The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n_vue2.default.config.productionTip = false;\n\n// Using plugin\n_vue2.default.use(vueLazyComponent);\n\n/* eslint-disable no-new */\nnew _vue2.default({\n  el: '#app',\n  router: _router2.default,\n  template: '<App/>',\n  components: { App: _App2.default }\n});\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(13);\n\n__webpack_require__(6);\n\n__webpack_require__(7);\n\n__webpack_require__(12);\n\n__webpack_require__(9);\n\n__webpack_require__(8);\n\nvar _vue = __webpack_require__(0);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_vue2.default.directive('highlightjs', {\n  deep: true,\n  bind: function bind(el, binding) {\n    var targets = el.querySelectorAll('code');\n    targets.forEach(function (target) {\n      if (binding.value) {\n        target.textContent = binding.value;\n      }\n      window.hljs.highlightBlock(target);\n    });\n  },\n  componentUpdated: function componentUpdated(el, binding) {\n    var targets = el.querySelectorAll('code');\n    targets.forEach(function (target) {\n      if (binding.value) {\n        target.textContent = binding.value;\n        window.hljs.highlightBlock(target);\n      }\n    });\n  }\n}); //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {};\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('header', {\n    staticClass: \"page-header\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"link\",\n    attrs: {\n      \"to\": \"/large-page\"\n    }\n  }, [_vm._v(\"Demo1: 超长页面懒加载\")]), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"link\",\n    attrs: {\n      \"to\": \"/timeout\"\n    }\n  }, [_vm._v(\"Demo2: 延时加载\")]), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"link\",\n    attrs: {\n      \"to\": \"/custom-transition\"\n    }\n  }, [_vm._v(\"Demo3: 自定义过渡效果\")]), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"link\",\n    attrs: {\n      \"to\": \"/large-page-chunks\"\n    }\n  }, [_vm._v(\"Demo4: 超长页面懒加载（分包）\")]), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"link\",\n    attrs: {\n      \"to\": \"/specific-viewport\"\n    }\n  }, [_vm._v(\"Demo5: 特定视口内懒加载 \")])], 1), _vm._v(\" \"), _c('router-view', {\n    staticClass: \"page-container\"\n  }), _vm._v(\" \"), _vm._m(1)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('h1', [_vm._v(\"Vue Lazy Component Demos  \"), _c('a', {\n    attrs: {\n      \"href\": \"https://badge.fury.io/js/%40xunlei%2Fvue-lazy-component\"\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": \"https://badge.fury.io/js/%40xunlei%2Fvue-lazy-component.svg\",\n      \"alt\": \"npm version\",\n      \"height\": \"18\"\n    }\n  })])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('a', {\n    attrs: {\n      \"href\": \"https://github.com/xunleif2e/vue-lazy-component\",\n      \"target\": \"_blank\"\n    }\n  }, [_c('img', {\n    staticStyle: {\n      \"position\": \"fixed\",\n      \"top\": \"0\",\n      \"right\": \"0\",\n      \"border\": \"0\",\n      \"z-index\": \"1000\"\n    },\n    attrs: {\n      \"src\": \"https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67\",\n      \"alt\": \"Fork me on GitHub\",\n      \"data-canonical-src\": \"https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png\"\n    }\n  })])\n}]}\n\n/***/ }),\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */,\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/img/spr-d3.068dda5.png\";\n\n/***/ })\n],[10]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.11d0bac733fdd7be7416.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VueLazyComponent\"] = factory();\n\telse\n\t\troot[\"VueLazyComponent\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar disposed = false\nvar Component = __webpack_require__(3)(\n  /* script */\n  __webpack_require__(1),\n  /* template */\n  __webpack_require__(4),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"F:\\\\work\\\\project\\\\vue-lazy-component-master\\\\src\\\\VueLazyComponent.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] VueLazyComponent.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-638a2947\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-638a2947\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n  name: 'VueLazyComponent',\n\n  props: {\n    timeout: {\n      type: Number\n    },\n    tagName: {\n      type: String,\n      default: 'div'\n    },\n    viewport: {\n      type: typeof window !== 'undefined' ? window.HTMLElement : Object,\n      default: function _default() {\n        return null;\n      }\n    },\n    threshold: {\n      type: String,\n      default: '0px'\n    },\n    direction: {\n      type: String,\n      default: 'vertical'\n    },\n    maxWaitingTime: {\n      type: Number,\n      default: 50\n    }\n  },\n\n  data: function data() {\n    return {\n      isInit: false,\n      timer: null,\n      io: null,\n      loading: false\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    // 如果指定timeout则无论可见与否都是在timeout之后初始化\n    if (this.timeout) {\n      this.timer = setTimeout(function () {\n        _this.init();\n      }, this.timeout);\n    }\n  },\n  mounted: function mounted() {\n    if (!this.timeout) {\n      // 根据滚动方向来构造视口外边距，用于提前加载\n      var rootMargin = void 0;\n      switch (this.direction) {\n        case 'vertical':\n          rootMargin = this.threshold + ' 0px';\n          break;\n        case 'horizontal':\n          rootMargin = '0px ' + this.threshold;\n          break;\n      }\n\n      try {\n        // 观察视口与组件容器的交叉情况\n        this.io = new window.IntersectionObserver(this.intersectionHandler, {\n          rootMargin: rootMargin,\n          root: this.viewport,\n          threshold: [0, Number.MIN_VALUE, 0.01]\n        });\n        this.io.observe(this.$el);\n      } catch (e) {\n        this.init();\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // 在组件销毁前取消观察\n    if (this.io) {\n      this.io.unobserve(this.$el);\n    }\n  },\n\n\n  methods: {\n    // 交叉情况变化处理函数\n    intersectionHandler: function intersectionHandler(entries) {\n      if (\n      // 正在交叉\n      entries[0].isIntersecting ||\n      // 交叉率大于0\n      entries[0].intersectionRatio) {\n        this.init();\n        this.io.unobserve(this.$el);\n      }\n    },\n\n\n    // 处理组件和骨架组件的切换\n    init: function init() {\n      var _this2 = this;\n\n      // 此时说明骨架组件即将被切换\n      this.$emit('beforeInit');\n      this.$emit('before-init');\n\n      // 此时可以准备加载懒加载组件的资源\n      this.loading = true;\n\n      // 由于函数会在主线程中执行，加载懒加载组件非常耗时，容易卡顿\n      // 所以在requestAnimationFrame回调中延后执行\n      this.requestAnimationFrame(function () {\n        _this2.isInit = true;\n        _this2.$emit('init');\n      });\n    },\n    requestAnimationFrame: function requestAnimationFrame(callback) {\n      var _this3 = this;\n\n      // 防止等待太久没有执行回调\n      // 设置最大等待时间\n      setTimeout(function () {\n        if (_this3.isInit) return;\n        callback();\n      }, this.maxWaitingTime);\n\n      // 兼容不支持requestAnimationFrame 的浏览器\n      return (window.requestAnimationFrame || function (callback) {\n        return setTimeout(callback, 1000 / 60);\n      })(callback);\n    }\n  }\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n  * vue-lazy-component\n  * (c) 2017 赵兵\n  * @license MIT\n  */\nvar VueLazyComponent = __webpack_require__(0);\nvar vueLazyComponent = {};\n\n/**\n * Plugin API\n */\nvueLazyComponent.install = function (Vue, options) {\n  Vue.component(VueLazyComponent.name, VueLazyComponent);\n};\n\nvueLazyComponent.component = VueLazyComponent;\n\n/**\n * Auto install\n */\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(vueLazyComponent);\n}\n\nmodule.exports = vueLazyComponent;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n/* globals __VUE_SSR_CONTEXT__ */\n\n// this module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition-group', {\n    staticStyle: {\n      \"position\": \"relative\"\n    },\n    attrs: {\n      \"tag\": _vm.tagName,\n      \"name\": \"lazy-component\"\n    },\n    on: {\n      \"before-enter\": function (el) { return _vm.$emit('before-enter', el); },\n      \"before-leave\": function (el) { return _vm.$emit('before-leave', el); },\n      \"after-enter\": function (el) { return _vm.$emit('after-enter', el); },\n      \"after-leave\": function (el) { return _vm.$emit('after-leave', el); }\n    }\n  }, [(_vm.isInit) ? _c('div', {\n    key: \"component\"\n  }, [_vm._t(\"default\", null, {\n    \"loading\": _vm.loading\n  })], 2) : (_vm.$slots.skeleton) ? _c('div', {\n    key: \"skeleton\"\n  }, [_vm._t(\"skeleton\")], 2) : _c('div', {\n    key: \"loading\"\n  })])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-loader/node_modules/vue-hot-reload-api\").rerender(\"data-v-638a2947\", module.exports)\n  }\n}\n\n/***/ })\n/******/ ]);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./dist/vue-lazy-component.js\n// module id = 2\n// module chunks = 6","import Vue from 'vue'\nimport Router from 'vue-router'\n\nVue.use(Router)\n\nconst router = new Router({\n  routes: [\n    {\n      path: '/large-page',\n      name: 'LargePage',\n      alias: '/',\n      component: (resolve) => require(['../views/LargePage'], resolve)\n    },\n    {\n      path: '/large-page-chunks',\n      name: 'LargePageChunks',\n      component: (resolve) => require(['../views/LargePageChunks'], resolve)\n    },\n    {\n      path: '/large-page-not-lazy',\n      name: 'LargePageNotLazy',\n      component: (resolve) => require(['../views/LargePageNotLazy'], resolve)\n    },\n    {\n      path: '/timeout',\n      name: 'Timeout',\n      component: (resolve) => require(['../views/Timeout'], resolve)\n    },\n    {\n      path: '/custom-transition',\n      name: 'CustomTransition',\n      component: (resolve) => require(['../views/CustomTransition'], resolve)\n    },\n    {\n      path: '/specific-viewport',\n      name: 'SpecificViewport',\n      component: (resolve) => require(['../views/SpecificViewport'], resolve)\n    }\n  ]\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./demo/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-04eb7ba4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-04eb7ba4\\\",\\\"hasScoped\\\":false}!../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./demo/App.vue\n// module id = 4\n// module chunks = 6","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nconst vueLazyComponent = process.env.NODE_ENV === 'development'\n  ? require('../src/vue-lazy-component.js')\n  : require('../dist/vue-lazy-component.js')\n\nVue.config.productionTip = false\n\n// Using plugin\nVue.use(vueLazyComponent)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./demo/main.js","<template>\n  <div>\n    <header class=\"page-header\">\n      <h1>Vue Lazy Component Demos  <a href=\"https://badge.fury.io/js/%40xunlei%2Fvue-lazy-component\"><img src=\"https://badge.fury.io/js/%40xunlei%2Fvue-lazy-component.svg\" alt=\"npm version\" height=\"18\"></a></h1>\n      <router-link class=\"link\" to=\"/large-page\">Demo1: 超长页面懒加载</router-link>\n      <router-link class=\"link\" to=\"/timeout\">Demo2: 延时加载</router-link>\n      <router-link class=\"link\" to=\"/custom-transition\">Demo3: 自定义过渡效果</router-link>\n      <router-link class=\"link\" to=\"/large-page-chunks\">Demo4: 超长页面懒加载（分包）</router-link>\n      <router-link class=\"link\" to=\"/specific-viewport\">Demo5: 特定视口内懒加载 </router-link>\n    </header>\n    <router-view class=\"page-container\"></router-view>\n    <a href=\"https://github.com/xunleif2e/vue-lazy-component\" target=\"_blank\">\n      <img\n        style=\"position: fixed; top: 0; right: 0; border: 0;z-index:1000;\"\n        src=\"https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67\"\n        alt=\"Fork me on GitHub\"\n        data-canonical-src=\"https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png\">\n      </a>\n  </div>\n</template>\n\n<script>\n  import '../src/transition.css'\n  import '@/assets/css/common.css'\n  import '@/assets/css/d3.css'\n  import '@/assets/css/acc.css'\n  import '@/assets/css/load.css'\n  import '@/assets/css/load-sec.css'\n  import Vue from 'vue'\n\n  Vue.directive('highlightjs', {\n    deep: true,\n    bind: function (el, binding) {\n      let targets = el.querySelectorAll('code')\n      targets.forEach((target) => {\n        if (binding.value) {\n          target.textContent = binding.value\n        }\n        window.hljs.highlightBlock(target)\n      })\n    },\n    componentUpdated: function (el, binding) {\n      let targets = el.querySelectorAll('code')\n      targets.forEach((target) => {\n        if (binding.value) {\n          target.textContent = binding.value\n          window.hljs.highlightBlock(target)\n        }\n      })\n    }\n  })\n  export default {}\n</script>\n\n<style>\n  .page-header {\n    position: fixed;\n    top: 0;\n    z-index: 199;\n    width: 100%;\n    background: rgba(255, 255, 255, .95);\n    padding: 18px;\n    text-align: center;\n  }\n\n  .page-container {\n    margin-top: 120px;\n  }\n\n  h1 {\n    font-size: 24px;\n    line-height: 2em;\n  }\n\n  h1,\n  h2 {\n    color: #42b983;\n  }\n\n  .link {\n    padding:0 24px 0 0;\n  }\n\n  .link:hover {\n    color: #42b983;\n  }\n\n  code.hljs {\n    font-family: 'Roboto Mono', Monaco, courier, monospace;\n    font-size: 0.8em;\n    background-color: rgba(255, 255, 255, .5);\n    -webkit-font-smoothing: initial;\n    padding: 1.2em 1.4em;\n    line-height: 1.5em;\n    margin: 0;\n  }\n\n  .router-link-active {\n    color: #42b983;\n  }\n\n  summary {\n    font-size: 14px;\n    cursor: pointer;\n    line-height: 3;\n    background:rgba(255,255,255,.9);\n    padding: 10px 16px;\n    margin: 8px 0;\n  }\n\n  summary:focus {\n    outline: none;\n  }\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// App.vue?de52284c","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('header', {\n    staticClass: \"page-header\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"link\",\n    attrs: {\n      \"to\": \"/large-page\"\n    }\n  }, [_vm._v(\"Demo1: 超长页面懒加载\")]), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"link\",\n    attrs: {\n      \"to\": \"/timeout\"\n    }\n  }, [_vm._v(\"Demo2: 延时加载\")]), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"link\",\n    attrs: {\n      \"to\": \"/custom-transition\"\n    }\n  }, [_vm._v(\"Demo3: 自定义过渡效果\")]), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"link\",\n    attrs: {\n      \"to\": \"/large-page-chunks\"\n    }\n  }, [_vm._v(\"Demo4: 超长页面懒加载（分包）\")]), _vm._v(\" \"), _c('router-link', {\n    staticClass: \"link\",\n    attrs: {\n      \"to\": \"/specific-viewport\"\n    }\n  }, [_vm._v(\"Demo5: 特定视口内懒加载 \")])], 1), _vm._v(\" \"), _c('router-view', {\n    staticClass: \"page-container\"\n  }), _vm._v(\" \"), _vm._m(1)], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('h1', [_vm._v(\"Vue Lazy Component Demos  \"), _c('a', {\n    attrs: {\n      \"href\": \"https://badge.fury.io/js/%40xunlei%2Fvue-lazy-component\"\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": \"https://badge.fury.io/js/%40xunlei%2Fvue-lazy-component.svg\",\n      \"alt\": \"npm version\",\n      \"height\": \"18\"\n    }\n  })])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('a', {\n    attrs: {\n      \"href\": \"https://github.com/xunleif2e/vue-lazy-component\",\n      \"target\": \"_blank\"\n    }\n  }, [_c('img', {\n    staticStyle: {\n      \"position\": \"fixed\",\n      \"top\": \"0\",\n      \"right\": \"0\",\n      \"border\": \"0\",\n      \"z-index\": \"1000\"\n    },\n    attrs: {\n      \"src\": \"https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67\",\n      \"alt\": \"Fork me on GitHub\",\n      \"data-canonical-src\": \"https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png\"\n    }\n  })])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-04eb7ba4\",\"hasScoped\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./demo/App.vue\n// module id = 18\n// module chunks = 6","module.exports = __webpack_public_path__ + \"static/img/spr-d3.068dda5.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./demo/assets/img/spr-d3.png\n// module id = 30\n// module chunks = 6"],"sourceRoot":""}